import{J as z,_ as O,t as d,K as G,A as V,v as m,x as e,B as i,L as A,M as g,T as E,r as c,o as _,N as Z,z as M,y as T,q as U,m as F}from"./CLPStcoR.js";import{s as B,A as K,M as N,u as q}from"./CwYQi8d3.js";const D=z("/hkb.svg"),W={class:"modal-header"},j={__name:"HelpModal",props:{modelValue:Boolean},emits:["update:modelValue"],setup(t){return(v,s)=>(d(),G(E,{name:"modal"},{default:V(()=>[t.modelValue?(d(),m("div",{key:0,class:"modal-overlay",onClick:s[2]||(s[2]=r=>v.$emit("update:modelValue",!1))},[e("div",{class:"modal-content",onClick:s[1]||(s[1]=A(()=>{},["stop"]))},[e("div",W,[s[3]||(s[3]=e("h2",null,"Welcome to SOOG",-1)),e("button",{class:"close-button",onClick:s[0]||(s[0]=r=>v.$emit("update:modelValue",!1))},"×")]),s[4]||(s[4]=e("div",{class:"modal-body"},[e("h3",null,"The Speculative Organology Organogram Generator"),e("p",null," SOOG helps you visualize musical instruments based on the organogram technique from ethnomusicologist Mantle Hood. It can also help create speculative instruments by mixing, morphing, and entangling geometrical and acoustical information. "),e("h4",null,"How it works:"),e("ol",null,[e("li",null,"Abstract instrument shapes using geometrical figures to represent resonant acoustical spaces"),e("li",null,"Abstract interfaces with different colored geometrical figures and indicate movements with arrows"),e("li",null,"Mix different acoustical shapes to create new polygons or freehand drawings"),e("li",null,"View spectrum simulations of acoustical shapes when available"),e("li",null,"Represent measurable components with light-blue numbers (e.g., strings, holes, keys)")]),e("h4",null,"Organogram Basics:"),e("ul",null,[e("li",null,[e("strong",null,"Instrument Types:"),e("ul",null,[e("li",null,"Idiophones: squares"),e("li",null,"Membranophones: horizontal rectangles"),e("li",null,"Chordophones: vertical rectangles"),e("li",null,"Aerophones: circles"),e("li",null,"Electronophones: rhombus")])]),e("li",null,[e("strong",null,"Special Markings:"),e("ul",null,[e("li",null,"Genus: marked with semi-circle"),e("li",null,"Performer position: little white circle with dotted line"),e("li",null,[i("Electronic components: "),e("ul",null,[e("li",null,"Microphones: small rhombus"),e("li",null,"Speakers: small horizontal cone (rotated to focus on sweet spot)")])]),e("li",null,"Arrows: Used for connections/relationships (with proportional heads)"),e("li",null,"Aerophone tubes: Parallel lines (straight) or conical lines (conical)")])]),e("li",null,[e("strong",null,"Materials (Colors):"),e("ul",null,[e("li",null,"Wood: orange"),e("li",null,"Bamboo: yellow"),e("li",null,"Skin: pink"),e("li",null,"Glass: green"),e("li",null,"Stone: white"),e("li",null,"Water: blue"),e("li",null,"Gourd: beige"),e("li",null,"Earth: brown"),e("li",null,"Plastic: grey"),e("li",null,"Bone: light grey")])]),e("li",null,[e("strong",null,"Symbols (Orange):"),i(" H=hammer, Y=lacing, P=precise, R=relative, C=cord/string, Ri=ring, M=male, F=female")])]),e("h4",null,"Commands:"),e("ul",null,[e("li",null,[e("kbd",null,"Alt"),i(" + "),e("kbd",null,"Enter"),i(": Evaluate selected text or all text if nothing is selected")]),e("li",null,[e("kbd",null,"Ctrl"),i(" + "),e("kbd",null,"H"),i(": Clear editor content")]),e("li",null,[e("kbd",null,"Ctrl"),i(" + "),e("kbd",null,"↑"),i("/"),e("kbd",null,"↓"),i(" ("),e("kbd",null,"⌘"),i(" + "),e("kbd",null,"↑"),i("/"),e("kbd",null,"↓"),i(" on Mac): Navigate command history")]),e("li",null,"Click the eye icon to show/hide generated code"),e("li",null,"Click the trash icon to clear editor content"),e("li",null,'On mobile devices, use the "Evaluate" button at the bottom of the screen')]),e("p",{class:"tip"},[e("strong",null,"Tip:"),i(" Start by describing an instrument or a combination of instruments you'd like to visualize. SOOG will help you create an organogram representation. ")]),e("div",{class:"reference"},[e("p",null," The organogram methodology implemented in SOOG represents an extension of the original visualization technique developed by ethnomusicologist Mantle Hood. For comprehensive information about the foundational organogram system, please refer to: "),e("p",{class:"citation"},[i(" Hood, Mantle (1982). "),e("em",null,"The ethnomusicologist"),i(" (2nd ed.). Kent State University Press. ")])]),e("div",{class:"credits"},[e("h4",null,"Academic Attribution"),e("p",null,[i(' SOOG is a research project developed by Luciano Azzigotti in conjunction with the doctoral dissertation "'),e("em",null,"Speculative Organology"),i('" within the Specialized Master and PhD in Music Performance Research programme at the Hochschule der Künste Bern. ')]),e("div",{class:"supervisors"},[e("p",null,"Under the supervision of:"),e("ul",null,[e("li",null,"Artistic Supervisor: Irene Galindo Quero"),e("li",null,"Scientific Supervisor: Prof. Dr. Michael Harenberg")])]),e("div",{class:"institution"},[e("img",{src:D,alt:"Hochschule der Künste Bern",class:"hkb-logo"})])])],-1))])])):g("",!0)]),_:1}))}},Y=O(j,[["__scopeId","data-v-a3a48482"]]);function J(){const t=c(null);let v=null,s=null;const r=()=>{t.value=document.querySelector("link[rel*='icon']"),t.value||(t.value=document.createElement("link"),t.value.type="image/x-icon",t.value.rel="shortcut icon",document.head.appendChild(t.value))},h=o=>{const a=document.createElement("canvas");a.width=32,a.height=32;const n=a.getContext("2d");if(!n)return"";n.fillRect(0,0,32,32),n.lineWidth=2.5,n.strokeStyle=o;const w=o.match(/[\d.]+\)$/),b=7+(1-(w?parseFloat(w[0]):1))*1.5,k=16,y=10,H=16;return n.beginPath(),n.arc(H-y/2,k,b,0,2*Math.PI),n.stroke(),n.beginPath(),n.arc(H+y/2,k,b,0,2*Math.PI),n.stroke(),a.toDataURL()};return{startProcessing:()=>{if(r(),!t.value)return;let o=1,a=!1;v&&clearInterval(v),s&&clearTimeout(s),v=B(()=>{a?(o+=.1,o>=1&&(o=1,a=!1)):(o-=.1,o<=.3&&(o=.3,a=!0));const n=`rgba(200, 0, 0, ${o})`;t.value&&(t.value.href=h(n))},50)},completeProcessing:()=>{if(!t.value)return;v&&(clearInterval(v),v=null),t.value.href=h("#00ff00");let o=1;s&&clearTimeout(s),s=setTimeout(()=>{const a=B(()=>{if(o-=.1,o<=0){clearInterval(a),t.value&&(t.value.href=h("#ffffff"));return}const n=`rgba(0, 255, 0, ${o})`;t.value&&(t.value.href=h(n))},50)},500)}}}const Q={class:"app-container"},X={class:"settings"},ee=["title"],le={key:0,class:"icon",viewBox:"0 0 24 24"},te={key:1,class:"icon",viewBox:"0 0 24 24"},oe={key:0,class:"editor-wrapper"},ne={key:1,class:"editor-wrapper"},se=["src"],ie=["src"],ae={class:"footer"},re={key:0,class:"loading"},ue={key:2,class:"error"},ce={__name:"index",setup(t){const{startProcessing:v,completeProcessing:s}=J(),r=c(null),h=c(!1),x=c(0),C=c(null),o=c(null),a=c(!0),n=c(!1),w=c(0),L=c(!1),f=c(!1),b=()=>{L.value=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},k=u=>{u.key==="Escape"&&f.value&&(f.value=!1)};_(()=>{b(),window.addEventListener("resize",b),window.addEventListener("keydown",k)}),Z(()=>{window.removeEventListener("resize",b),window.removeEventListener("keydown",k)});const y=()=>{r.value&&r.value.clearEditor()},H=()=>{a.value=!a.value},I=async()=>{if(r.value){const{getRandomPrompt:u}=q(),l=await u();r.value.clearEditor(),r.value.addToEditor(l),r.value.addToHistory(l)}},P=()=>{if(r.value){const u=r.value.aceEditor();if(u){const p=u.getSelectedText()||u.getValue();p.trim()?(v(),S(p)):C.value="Please enter some text to evaluate."}}},R=U();c(R.public.apiBase||"https://soog.onrender.com/api");const S=async u=>{if(!u.trim()){C.value="Please select some text to evaluate.";return}},$=()=>{F("/musicv-test")};return(u,l)=>(d(),m("div",Q,[e("div",X,[e("button",{onClick:H,class:"icon-button",title:a.value?"Hide Code":"Show Code"},[a.value?(d(),m("svg",le,l[6]||(l[6]=[e("path",{fill:"currentColor",d:"M12,9A3,3 0 0,1 15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9M12,4.5C17,4.5 21.27,7.61 23,12C21.27,16.39 17,19.5 12,19.5C7,19.5 2.73,16.39 1,12C2.73,7.61 7,4.5 12,4.5M3.18,12C4.83,15.36 8.24,17.5 12,17.5C15.76,17.5 19.17,15.36 20.82,12C19.17,8.64 15.76,6.5 12,6.5C8.24,6.5 4.83,8.64 3.18,12Z"},null,-1)]))):(d(),m("svg",te,l[7]||(l[7]=[e("path",{fill:"currentColor",d:"M11.83,9L15,12.16C15,12.11 15,12.05 15,12A3,3 0 0,0 12,9C11.94,9 11.89,9 11.83,9M7.53,9.8L9.08,11.35C9.03,11.56 9,11.77 9,12A3,3 0 0,0 12,15C12.22,15 12.44,14.97 12.65,14.92L14.2,16.47C13.53,16.8 12.79,17 12,17A5,5 0 0,1 7,12C7,11.21 7.2,10.47 7.53,9.8M2,4.27L4.28,6.55L4.73,7C3.08,8.3 1.78,10 1,12C2.73,16.39 7,19.5 12,19.5C13.55,19.5 15.03,19.2 16.38,18.66L16.81,19.08L19.73,22L21,20.73L3.27,3M12,7A5,5 0 0,1 17,12C17,12.64 16.87,13.26 16.64,13.82L19.57,16.75C21.07,15.5 22.27,13.86 23,12C21.27,7.61 17,4.5 12,4.5C10.6,4.5 9.26,4.75 8,5.2L10.17,7.35C10.74,7.13 11.35,7 12,7Z"},null,-1)])))],8,ee),e("button",{onClick:P,class:"icon-button",title:"Evaluate selected text or all if no selection"},l[8]||(l[8]=[e("svg",{class:"icon",viewBox:"0 0 24 24"},[e("path",{fill:"currentColor",d:"M8,5.14V19.14L19,12.14L8,5.14Z"})],-1)])),e("button",{onClick:y,class:"icon-button",title:"Clear Editor (Ctrl+H)"},l[9]||(l[9]=[e("svg",{class:"icon",viewBox:"0 0 24 24"},[e("path",{fill:"currentColor",d:"M9,3V4H4V6H5V19A2,2 0 0,0 7,21H17A2,2 0 0,0 19,19V6H20V4H15V3H9M7,6H17V19H7V6M9,8V17H11V8H9M13,8V17H15V8H13Z"})],-1)])),e("button",{onClick:I,class:"icon-button",title:"Random Prompt"},l[10]||(l[10]=[e("svg",{class:"icon",viewBox:"0 0 24 24"},[e("path",{fill:"currentColor",d:"M14.83,13.41L13.42,14.82L16.55,17.95L14.5,20H20V14.5L17.96,16.54L14.83,13.41M14.5,4L16.54,6.04L4,18.59L5.41,20L17.96,7.46L20,9.5V4M10.59,9.17L5.41,4L4,5.41L9.17,10.58L10.59,9.17Z"})],-1)])),e("button",{onClick:l[0]||(l[0]=p=>n.value=!0),class:"icon-button",title:"Help"},l[11]||(l[11]=[e("svg",{class:"icon",viewBox:"0 0 24 24"},[e("path",{fill:"currentColor",d:"M11,18H13V16H11V18M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,6A4,4 0 0,0 8,10H10A2,2 0 0,1 12,8A2,2 0 0,1 14,10C14,12 11,11.75 11,15H13C13,12.75 16,12.5 16,10A4,4 0 0,0 12,6Z"})],-1)])),e("button",{onClick:$,class:"icon-button",title:"Go to test"},l[12]||(l[12]=[e("svg",{class:"icon",viewBox:"0 0 24 24"},[e("path",{fill:"currentColor",d:"M3 17.25V21H6.75V17.25H3M3 3V13.5H6.75V3H3M8.25 17.25V21H12V17.25H8.25M8.25 3V13.5H12V3H8.25M13.5 17.25V21H17.25V17.25H13.5M13.5 3V13.5H17.25V3H13.5M18.75 17.25V21H22.5V17.25H18.75M18.75 3V13.5H22.5V3H18.75Z"})],-1)]))]),u.showTestEditor?g("",!0):(d(),m("div",oe,[M(K,{ref_key:"editorRef",ref:r,onEvaluate:S},null,512)])),u.showTestEditor?(d(),m("div",ne,[M(N)])):g("",!0),M(E,{"enter-active-class":"fadeIn","leave-active-class":"fadeOut",duration:3e3,mode:"out-in"},{default:V(()=>[o.value?(d(),m("div",{class:"plot-display",key:w.value},[e("img",{src:`data:image/png;base64,${o.value}`,alt:"Plot",onClick:l[1]||(l[1]=p=>f.value=!0),class:"plot-image"},null,8,se)])):g("",!0)]),_:1}),M(E,{"enter-active-class":"fadeIn","leave-active-class":"fadeOut",duration:300},{default:V(()=>[f.value?(d(),m("div",{key:0,class:"lightbox",onClick:l[4]||(l[4]=p=>f.value=!1)},[e("button",{class:"close-button",onClick:l[2]||(l[2]=A(p=>f.value=!1,["stop"]))},l[13]||(l[13]=[e("svg",{class:"icon",viewBox:"0 0 24 24"},[e("path",{fill:"currentColor",d:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"})],-1)])),e("img",{src:`data:image/png;base64,${o.value}`,alt:"Plot",class:"lightbox-image",onClick:l[3]||(l[3]=A(()=>{},["stop"]))},null,8,ie)])):g("",!0)]),_:1}),e("div",ae,[h.value?(d(),m("div",re," Processing... "+T(Math.round(x.value))+"% ",1)):g("",!0),L.value?(d(),m("button",{key:1,onClick:P,class:"mobile-evaluate-btn",title:"Alt+Enter"}," Evaluate ")):g("",!0)]),C.value?(d(),m("div",ue,T(C.value),1)):g("",!0),M(Y,{modelValue:n.value,"onUpdate:modelValue":l[5]||(l[5]=p=>n.value=p)},null,8,["modelValue"])]))}},me=O(ce,[["__scopeId","data-v-3ce6c867"]]);export{me as default};
